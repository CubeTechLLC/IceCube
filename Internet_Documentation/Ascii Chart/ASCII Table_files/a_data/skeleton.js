


var adsafeVisParams = {
	mode : "jss",
	jsref : "http://www.techonthenet.com/ascii/chart.php",
	adsafeSrc : "http://pixel.adsafeprotected.com/rfw/st/18471/1135993/skeleton.js",
	adsafeSep : "?",
	requrl : "",
	reqquery : "",
	debug : "false",
	allowEnagement : "true",
	trackMouse : "true",
	
	jsFeatures : "mousetrack,cocoapuffs:100,viewabilityready,consecutive,cachebust,forcecocoa:10,rattie:100",
	enagementDelay : "1-5-15",
	useAdTalk : "true",
	adTalkDtCall : "true",
	killPhrases : "",
	asid : "bdc9b966-de75-11e2-a7b6-0025904e9b7c",
	adWidth : "728",
	adHeight : "90",
	exchList : {1:'admeld',2:'googleads.g.doubleclick',3:'rubiconproject',4:'pubmatic',5:'openx',6:'adbrite.com',7:'glam.com',8:'yieldmanager.com',9:'lijit',10:'adnxs',11:'turn.com',12:'mathtag',13:'invitemedia',14:'dataxu',15:'media6degrees',16:'quantserve',17:'rfihub.net'}
};


	
(function(a4,j){var N="4.1.5";var r=function(e){return typeof e!=="undefined";};var d=function(e){return !r(e);};var aG=function(bc){var e=r(bc);return e?bc:false;};var V=function(e){return Math.round(e);};var aP=function(bc,bd,be){for(var e in bd){if(be||bd.hasOwnProperty(e)){bc[e]=bd[e];}}return bc;};var aF="application/x-shockwave-flash";var y=/^(?:http|https):\/\/(([^\/\.]*)\.([^\/]*))/.exec(a4.adsafeSrc||a4.requrl);var z=(a4.debug==="true");var R="undefined";var aC=2000;var a5;var ag=window!=top;var s=false;var a3="jss,jsi,jspix".indexOf(a4.mode)===-1;try{s=!!top.document;}catch(ab){s=false;}var aL;var B=false;var K=new Date().getTime();var aM={};var W=(function(){var bd={};var e=function(bh,bj){var bi=new RegExp(bh+"(?=$|,)|"+bh+":(?!,|$)(\\d*(?=,|$))").exec(a4.jsFeatures);if(bd[bh]===undefined||bj){bd[bh]=!!((bi&&!bi[1])||(bi&&bi[1]>Math.floor(Math.random()*100)));}return bd[bh];};var bf={fc:"forcecocoa",rt:"rattie"};var bc=function(){var bi,bh={};for(bi in bf){if(bf.hasOwnProperty(bi)){bh[bi]=bd[bf[bi]];}}return bh;};var be=function(){var bh=[],bj,bi=bc();for(bj in bi){if(bi.hasOwnProperty(bj)){bh.push(bj+":"+(bi[bj]?1:0));}}return bh.join(",");};var bg;for(bg in bf){if(bf.hasOwnProperty(bg)){e(bf[bg]);}}return{on:e,getReportedFeatureMap:bc,output:be};})();var m=function(){var bh=function(){};var bg=function(bj){top.postMessage(bj,"*");};var bf,bi,be=false,bd="pm,inDoc,n,";var bc=bd+"log,info,warn,dir,exception,trace,group,groupEnd,groupCollapsed,profile,profileEnd,count,clear,time,timeEnd,timeStamp,table,error,memoryProfile,memoryProfileEnd";bc=bc.split(",");if(z&&typeof console!==R){aM=console;for(bf=0,len=bc.length;bf<len;bf++){bi=bc[bf];if(typeof aM[bi]===R){if(typeof aM.log===R){aM[bi]=bh;}else{aM[bi]=aM.log;}}}}else{for(bf=0,len=bc.length;bf<len;bf++){bi=bc[bf];aM[bi]=bh;}}if(z){aM.pm=window.postMessage?bg:bh;aM.inDoc=function(bl,bk){var bj=function(){var bm;try{if(!be){be=document.createElement("ul");document.body.appendChild(be);}bm=document.createElement("li");be.appendChild(bm);bm.textContent=bl;}catch(bn){}};if(!bk){bj();}else{setTimeout(bj,bk);}};var e={};aM.n=function(bk,bl,bm,bj){bm=bm||1;bj=bj||"pm";if(!e[bk]){e[bk]=0;}if(e[bk]<bm){aM[bj](bk+" "+e[bk]+": "+bl);e[bk]++;}};}};m();aM.info("v"+N+", mode: "+a4.mode);aM.groupCollapsed("Server Parameters");aM.dir(a4);aM.groupEnd();var v=function(){return new Date().getTime()-K;};var a2=function(e){setTimeout(e,0);};var ac=function(bd,be,bc,e){if(typeof bd.addEventListener!=R){if(be==="mouseenter"){bd.addEventListener("mouseover",aJ(bc),e);}else{if(be==="mouseleave"){bd.addEventListener("mouseout",aJ(bc),e);}else{bd.addEventListener(be,bc,e);}}}else{if(typeof bd.attachEvent!=R){bd.attachEvent("on"+be,bc);}}};var aj=function(bc,bd,e){if(typeof bc.removeEventListener!=R){if(bd==="mouseenter"){bd="mouseover";e=aJ;}else{if(bd==="mouseleave"){bd="mouseout";e=aJ;}}bc.removeEventListener(bd,e);}else{if(typeof bc.detachEvent!=R){bc.detachEvent("on"+bd,e);}}};var aJ=function(e){return function(bc){var bd=bc.relatedTarget;if(this===bd||at(this,bd)){return;}e.call(this,bc);};};var at=function(e,bc){if(e===bc){return false;}while(bc&&bc!==e){bc=bc.parentNode;}return bc===e;};var C=function(bc,e){var bd=""+bc;while(bd.length<e){bd="0"+bd;}return bd;};var al=function(bf,be){var bc="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");var bd,e=[];do{bd=bf%be;e.push(bc[bd]);bf=(bf-bd)/be;}while(bf>0);return e.reverse().join("");};var a6=(function(){var bd=new Date();var bc=Date.parse("Jan 1 "+bd.getFullYear());var e=bd.getTime()-bc;return al(e,62);}());var t=function(){var bf=0,bd={};var bc=function(bh,bi,bg){if(typeof bh.output==="undefined"){throw new Error("item with id "+bi+' must have "output" method');}this.item=bh;this.id=bi||++bf;this.props=bg||{};this.output=function(){return(typeof bh.output==="function")?bh.output():bh.output;};};var e=function(bi){var bj,bg,bh=[];for(bj in bd){if(bd.hasOwnProperty(bj)){bg=bi(bj,bd[bj]);if(bg){bh.push(bg);}}}return bh;};var be=function(bi,bj,bh){var bg=new bc(bi,bj,bh||{});bd[bg.id]=bg;};return{addItem:be,iterate:e,getItem:function(bg){return bd[bg];}};};t=new t();var h=function(bd){var bc=function(bh){for(var bg in bd){if(bd.hasOwnProperty(bg)){bh(bg,bd[bg]);}}};var be=function(bi,bh){var bg=[];bc(function(bk,bl){var bj=bi(bk,bl);if(bj!==undefined||bh){bg[bg.length]=bj;}});return bg;};var bf=function(bh,bi){bi=bi||",";var bg=[];bc(function(bj,bk){bg.push(bh(bj,bk));});return bg.join(bi);};var e=function(bg){return bf(function(bh,bi){return bh+":"+bi;},bg);};return{each:bc,map:be,toParams:e,stringify:bf};};var n="a";var c="c";var am="d";var aA="e";var q="h";var ak="k";var A="l";var aw="p";var i="w";var D="D";var aI={list:{},add:function(e){if(typeof this.list[e]!=R){this.list[e]++;}else{this.list[e]=1;}},toString:function(){var bc="";for(var e in this.list){if(this.list.hasOwnProperty(e)){bc+=e;}}return bc;},hasErrors:function(){for(var e in this.list){return true;}return false;}};var k=function(){var e=function(bo){return new Function("return "+(typeof bo==="string"?'"'+bo+'"':bo));};var bm="Shockwave",bh="Flash",bn=bm+bh+"."+bm+bh,bi=bm+" "+bh;var bl=function(){var br=function(bs){return bs.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",").join(".");};try{try{var bp=new ActiveXObject(bn+".6");try{bp.AllowScriptAccess="always";}catch(bq){return"6";}}catch(bq){}return br(new ActiveXObject(bn).GetVariable("$version"));}catch(bq){try{if(navigator.mimeTypes[aF].enabledPlugin){if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return br((navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description);}return br((navigator.plugins[bi+" 2.0"]||navigator.plugins[bi]).description);}}catch(bo){}}return"0";};var bk=function(bo){return bc()===bo;};var bg=function(){var bo=false;if(document.compatMode!=="CSS1Compat"){bo=true;}return bo;};var bj=function(){var bo=5;if(bk("i")){if(window.atob){bo=10;}else{if(document.addEventListener){bo=9;}else{if(window.JSON&&document.querySelector){bo=8;}else{if(window.XMLHttpRequest){bo=7;}else{if(document.compatMode){bo=6;}}}}}}else{bo="na";}bj=e(bo);return bo;};var bd=function(){var bp,bo=document.createElement("div"),bq="na";try{bo.style.behavior="url(#default#clientcaps)";bq=bo.getComponentVersion("{89820200-ECBD-11CF-8B85-00AA005B4383}","componentid").replace(/,/g,".");}catch(bp){}bd=e(bq);return bq;};var bf=function(){return document&&document.documentMode?document.documentMode:"na";};var bc=function(){var bo="u";if(typeof window.opera!==R&&typeof window.opera.buildNumber!==R){bo="o";}else{if(typeof window.mozInnerScreenY!==R){bo="g";}else{if(typeof window.chrome!==R&&typeof window.chrome.app!==R){bo="c";}else{if(typeof window.WebKitPoint!==R){bo="w";}else{if(typeof window.attachEvent!==R){bo="i";}}}}}bc=e(bo);return bo;};var be=function(){return{br:bc(),fv:bl(),bv:bj(),dm:bf(),abv:bd()};};return{browserIs:bk,getDocumentMode:bf,getBrowser:bc,params:be};}();var aT;var aE=function(){var bk=function(bn){var bm={a:"top.location.href",b:"parent.location.href",c:"parent.document.referrer",d:"window.location.href",e:"window.document.referrer",f:"jsref",g:"ffCheck -- firefox result",q:"ffCheck -- parent.parent.parent... result"};aM.groupCollapsed("Detection Results");var bo="";for(var e in bn){row=bn[e];bo+=row.key+": "+decodeURIComponent(row.val)+"\n";}aM.log(bo);aM.dir(bm);aM.groupEnd();};var bh=function(){var bm={g:"",q:""};try{bm.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href;}catch(bo){var bn=bo.message;var bp=bn.substring(bn.lastIndexOf("<")+1,bn.lastIndexOf(">"));if(typeof bp!=R&&bl()){bm.g=bp;}}return bm;};var bl=function(){var bn=3;var bm=6;var bq=13;var bv=false;if(typeof window.navigator!==R&&typeof window.navigator.userAgent!==undefined){var bo=window.navigator.userAgent;var e=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);if(e!==null&&e.length==2){var bs=e[1];var bp=bs.split(".");var bt=bp[0];if(parseInt(bt,10)==bn){var br=bp[1];if(parseInt(br,10)<=bm){if(bp.length==3){var bu=bp[2];if(parseInt(bu,10)<=bq){bv=true;}}else{bv=true;}}}}}return bv;};var bd=function(e){for(var bn in e){if(e.hasOwnProperty(bn)){var bm=e[bn];if(bm===""||bm==="null"||bm===R||bm===null||typeof bm===R){delete e[bn];}}}return e;};var bj=function(bn){var e={};var bo,bp;for(bp in bn){if(bn.hasOwnProperty(bp)){bo=bn[bp];if(typeof e[bo]==R){e[bo]=bp;}else{e[bo]+=bp;}}}var bm={};for(bp in e){if(e.hasOwnProperty(bp)){bo=e[bp];bm[bo]=bp;}}return bm;};var bf={};try{bf.a=encodeURIComponent(top.location.href);}catch(bi){}try{bf.b=encodeURIComponent(parent.location.href);}catch(bi){}if(ag){try{bf.c=encodeURIComponent(parent.document.referrer);}catch(bi){}try{bf.e=encodeURIComponent(window.document.referrer);}catch(bi){}}try{bf.d=encodeURIComponent(window.location.href);}catch(bi){}try{bf.f=encodeURIComponent(a4.jsref);}catch(bi){}try{var be=bh();bf.g=encodeURIComponent(be.g);bf.q=encodeURIComponent(be.q);}catch(bi){}bf=bd(bf);bf=bj(bf);var bg=[];for(var bc in bf){if(bf.hasOwnProperty(bc)){bg.push({key:bc,val:bf[bc]});}}bg.sort(function(bm,e){return(bm.val.length>e.val.length)?1:(bm.val.length<e.val.length)?-1:0;});bk(bg);return bg;};var aN=(function(){var be,bd=document.getElementsByTagName("script");var bc=bd[bd.length-1];var bf=bd.length;try{while(--bf>=0){be=bd[bf];if(be.src&&be.src.indexOf(y[0])===0){bc=be;break;}}if(bf===0&&!a3&&!ag){document.write('<span id="s'+a4.asid+'"/>');bc=document.getElementById("s"+a4.asid).parentNode;}}catch(bg){}return bc;}());var ba=aN.parentNode;var O=null;var a8=false;var aD={SPAN:"s",AD_HUNT:"a",IFRAME:"i"};var o={LOCATION:"l",OBSTRUCTION:"o",FOCUS:"f"};var H=function(){var bk,bo,bl,bi;var bn=O;if(a4.mode=="jsli"){return{viewState:"na",embedded:ag};}try{bk=aK();bo=bb();if(bk===-1||bo===-1){return{viewState:"na",embedded:ag,winDimensions:bk,adDimensions:bo};}else{var bg=aq(bk.x,bk.x+bk.width,bo.x,bo.x+bo.width);var be=aq(bk.y,bk.y+bk.height,bo.y,bo.y+bo.height);var bh=(bg<=0||bo.width<=0)?0:V(bg/bo.width*100);var bf=(be<=0||bo.width<=0)?0:V(be/bo.height*100);bl=V(bh*bf/100);}}catch(bm){aI.add(am);aM.trace();aM.error(bm);}try{if(p){bi="na";}else{if(bl>=75){bi="inView";}else{if(bl<=25){bi="outOfView";}else{if(bl>=50){bi="partialViewPlus";}else{bi="partialViewMinus";}}}}}catch(bm){aI.add(aw);aM.error(bm);}var bd=[];if(bi=="outOfView"){bd.push(o.LOCATION);}var bc=ah(bo);if(bc===true){bi="outOfView";bd.push(o.OBSTRUCTION);bc=1;}else{if(bc===false){bc=0;}else{bc="na";}}var bj=T();if(bj===true){bi="outOfView";bd.push(o.FOCUS);bj=1;}else{if(bj===false){bj=0;}else{bj="na";}}if(O&&bn!==O){aM.log("New Engagement Node:",O);}return{winDimensions:bk,adDimensions:bo,viewState:bi,percentInView:bl,reason:bd.join("."),obstructed:bc,tabHidden:bj};};var aK=function(){var bi,bh,bk,bd;var bf,bj,bc,be;try{if(s){bi=bh=0;bf=top;bj=bf.document;bc=bj.documentElement;be=bj.getElementsByTagName("body")[0];if(r(bf.innerWidth)){bk=bf.innerWidth;bd=bf.innerHeight;}else{if(r(bc.clientWidth)){bk=bc.clientWidth;bd=bc.clientHeight;}else{if(r(be.clientWidth)){bk=be.clientWidth;bd=be.clientHeight;}else{bk=0;bd=0;throw"cant find window size, set to 0";}}}}else{if(typeof window.screenX!=R){bi=window.screenX;}if(typeof window.screenY!=R){bh=window.screenY;}if(typeof window.outerWidth!=R){bk=window.outerWidth;}if(typeof window.outerHeight!=R){bd=window.outerHeight;}}}catch(bg){aI.add(i);aM.exception(bg);}var bl;if(isNaN(bi)||isNaN(bh)||isNaN(bk)||isNaN(bd)){bl=-1;}else{bl={x:V(bi),y:V(bh),width:V(bk),height:V(bd)};}return bl;};var bb=function(){var bk,bj,bn,be,bc,bl;if(typeof ba.getBoundingClientRect!=R){bl=aW(ba);bl={x:V(bl.left),y:V(bl.top),width:V(bl.width),height:V(bl.height)};}if(ag){bc=aD.IFRAME;try{if(s){var bm=az(window);bk=bm.left;bj=bm.top;}else{if(k.browserIs("i")&&k.getDocumentMode()>=9&&W.on("rattie")){var bd=function(e){bk=e.screenX-e.clientX;bj=e.screenY-e.clientY;};document.documentElement.attachEvent("onmousemove",bd);document.documentElement.fireEvent("onmousemove");document.documentElement.detachEvent("onmousemove",bd);}else{if(typeof window.mozInnerScreenX==R){bk=window.screenLeft;bj=window.screenTop;}else{bk=V(window.mozInnerScreenX);bj=V(window.mozInnerScreenY);}}}var bg=aL||L();if(typeof window.innerWidth!=R){bn=window.innerWidth;be=window.innerHeight;}else{if(bg&&typeof bg.clientWidth!=R){bn=bg.clientWidth;be=bg.clientHeight;if(bn===0&&bg.offsetWidth>0){bn=bg.offsetWidth;}if(be===0&&bg.offsetHeight>0){be=bg.offsetHeight;}}else{if(window.frameElement&&typeof window.frameElement.clientWidth!=R){bn=window.frameElement.clientWidth;be=window.frameElement.clientHeight;}}}}catch(bh){aI.add(n);}}else{if(!a8){bc=aD.AD_HUNT;var bo=Q(ba);if(aR(bo)>1){O=bo;a8=true;}else{bc=aD.SPAN;if(!O){O=document.createElement("span");aP(O.style,{width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"});O.innerHTML=".";ba.insertBefore(O,aN.nextSibling);}}}var bf=aW(O);var bi=S(O);bk=bf.left;bj=bf.top;bn=bi.w<bf.width?bi.w:(bf.width||1);be=bi.h<bf.height?bi.h:(bf.height||1);}var bp;if(isNaN(bk)||isNaN(bj)||isNaN(bn)||isNaN(be)){bp=-1;}else{bp={x:V(bk),y:V(bj),width:V(bn),height:V(be),method:bc,container:bl};}return bp;};var S=function(bd){var e=10000,bc=10000,be;do{bd=bd.parentNode;if(bd.tagName.toUpperCase()!=="OBJECT"&&(bd.style&&bd.style.display!=="inline")){be=aW(bd);e=be.width<e?be.width:e;bc=be.height<bc?be.height:bc;}}while(bd!==ba);return{w:V(e),h:V(bc)};};var Q=function(bk){var bm="iframe,img,a,object,embed,div".split(",");var bh=[];var bi,bc=-1;var bg;for(bg=0,len=bm.length;bg<len;bg++){var bd=bm[bg];var bj=bk.getElementsByTagName(bd);if(bj.length){for(var bf=0,e=bj.length;bf<e;bf++){bh.push(bj[bf]);}}}if(bh.length){for(bg=0,len=bh.length;bg<len;bg++){var bl=bh[bg];var be=aR(bl);if(be>bc){bi=bl;bc=be;}}}if(typeof bi==R){return null;}else{if(typeof bi.nodeName!=R&&bi.nodeName=="DIV"){return Q(bi);}else{return bi;}}};var aR=function(bd){var bc=-1;if(bd){var e=aW(bd);bc=e.width*e.height;}return bc;};var aW=function(bd){var e={},bc=bd.getBoundingClientRect();if(typeof bc.width===R){e={width:bc.right-bc.left,height:bc.bottom-bc.top};}aP(e,bc,true);return e;};var az=function(bf,bi){if(typeof bi===R){bi={top:0,left:0};}var bh=bf.parent.document.getElementsByTagName("iframe");var bg;var be=false;for(var bc=0,e=bh.length;bc<e;bc++){bg=bh[bc];if(bg.contentWindow==bf){be=true;break;}}if(be){var bd=aW(bg);bi.left+=bd.left;bi.top+=bd.top;if(bf!==top){az(bf.parent,bi);}}return bi;};var ah=function(be){var e=null;if(a8&&!ag&&O&&be&&typeof document.elementFromPoint!=R){var bd=Math.floor(be.x+(be.width/2));var bc=Math.floor(be.y+(be.height/2));var bf=document.elementFromPoint(bd,bc);if(bf!==null){e=bf!==O;}}return e;};var T=function(){var e=null;if(typeof document.hidden!=R){e=document.hidden;}else{if(typeof document.mozHidden!=R){e=document.mozHidden;}else{if(typeof document.msHidden!=R){e=document.msHidden;}else{if(typeof document.webkitHidden!=R){e=document.webkitHidden;}}}}return e;};var aq=function(bc,e,be,bd){return Math.min(e,bd)-Math.max(be,bc);};var a={UNLOAD:"u",PING:"p",ADTALK:"a",VIEWABILITY_READY:"v"};var aB;var l;var a9=[];var aV=false;var G=250;var a7=1000;var aa=function(){var bc=(a4.enagementDelay.indexOf("-")!==-1)?a4.enagementDelay.split("-"):[a4.enagementDelay],e=0;for(;e<bc.length;e++){bc[e]=bc[e]*a7;}return bc;}();aM.groupCollapsed("Engagement Settings");aM.log("pingTimes:",aa,"pingTime:",aa[0],"engagementCodes:",a);aM.groupEnd();var an=function(bn,bs){aM.group("Send "+bs+"-type DT Call");var bl="";if(B&&(bs===a.ADTALK||aB!=="na")){var be=v();if(typeof bs==R){bs=a.UNLOAD;}if(bs===a.UNLOAD&&aV){return;}try{if(a4.mode=="jspix"||a4.mode=="jload"){bl=a4.requrl;}else{var bi=a4.adsafeSrc.indexOf("/",9);bl=a4.adsafeSrc.substr(0,bi)+"/";}var bm=Z();var bk="asId="+a4.asid;var bh=aa.length&&aa[0]/a7;if(bs===a.UNLOAD){bh=-1;}else{if(bs===a.ADTALK){bh=-2;}else{if(bs===a.VIEWABILITY_READY){bh=-3;}}}var bj=(f.time!==-1)?",hoverTime:"+f.time+",mouseBox:"+f.getBoundingBoxString():"";var bt=(aI.hasErrors())?",e:"+aI.toString():"";var bo=",tt:"+a4.mode;var bc=","+W.output();var br=",em:"+ag+",fr:"+s;var bp=",uf:"+((J)?1:0);var e="";t.iterate(function(bv,bu){if(!bu.props.type||bu.props.type===bs){e+=","+bv+":"+bu.output();aM.pm("DEBUG_phHome - "+bv+": "+bu.output());}});var bq="&br="+k.getBrowser();var bd="&tv={c:"+a6+",pingTime:"+bh+",time:"+be+",type:"+bs+bc+br+bm+bj+bp+bt+bo+e+"}";var bf=bl+"dt?"+bk+bd+bq;bf+="&adsafePrivacyPolicy=http://integr.al/privacy-policy";ao(bf);if(bs===a.UNLOAD){aV=true;}}catch(bg){aI.add(q);aM.error(bg);}}aM.groupEnd();};var M=function(){var bc={inView:0,outOfView:0,partialViewPlus:0,partialViewMinus:0};var bf,bh,bd,bg=0;for(var be=0,e=a9.length;be<e;be++){bf=(be===0)?l:a9[be-1].sl;bh=a9[be].t;bc[bf]+=bh-bg;bg=bh;}bh=v();bd=(e===0)?bh:bh-a9[e-1].t;bc[aB]+=bd;return bc;};var Z=function(){var bc=M();var bd=10;var e="";if(a9.length){e=",slTimes:{i:"+bc.inView+",o:"+bc.outOfView+",pp:"+bc.partialViewPlus+",pm:"+bc.partialViewMinus+"}";e+=",slEvents:["+a9.slice(-bd).join(",")+"]";e+=",slEventCount:"+a9.length;aM.groupCollapsed("Engagement Events");aM.dir(bc);aM.dir(a9);aM.groupEnd();}else{aM.info("No events.");}return e;};var w=function(bd){var be=(typeof bd==R)?v():bd;var bc=a9.length;var e=(bc===0)?be:be-a9[bc-1].t;return e;};var af=function(bc,bk,bj){var e;var be=function(bl,bm){return'<param name="'+bl+'" value="'+bm+'"/>';};var bh=function(bm,bl){return bm+'="'+bl+'" ';};var bg=function(){var bp,bl=a4.adsafeSrc||a4.requrl,bt=bl.indexOf("/",9),bn=bl.substr(0,bt),bv=bn.split("//")[0]+"//",bm=bn.split("."),bq=bm.shift(),bo="static."+bm.join("."),bu=a4.cocaPuffsPath||(bv+bo+"/detector.pix"),bs=be("allowscriptaccess","always"),br=be("movie",bu)+be("play","true")+be("loop","true");if(k.browserIs("i")){if(W.on("cachebust")){bu+="?t="+K;}bp=document.createElement("div");bp.innerHTML="<object "+bh("id","blag"+K)+bh("classid","clsid:D27CDB6E-AE6D-11cf-96B8-444553540000")+bh("type",aF)+bh("data",bu)+">"+br+bs+"</object>";e=bp.firstChild;}else{e=document.createElement("object");e.data=bu;e.type=aF;e.innerHTML=bs;}e.style.position="absolute";e.style.width="1px";e.style.opacity="0";e.style.height="1px";return e;};var bd=function(bm,bl,bo){var bn=bg();bn.style.left=bl;bn.style.top=bo;bm.appendChild(bn);};var bf=function(){return bi()&&e.isInView();};var bi=function(){return e&&typeof e.isInView==="function";};bd(bc,bk,bj);return{isInView:bf,isNotReadyToReport:function(){return !bi();}};};var a1=function(bh,bf,bg){var bd=new bh(document.body,bf.width/2,bf.height/2);var be,bc,bj=5,e=0;be=setInterval(function(){var bk=!bd.isNotReadyToReport();if(bk&&!bc){bc=true;bg();clearInterval(be);}else{if(++e===bj||bc){clearInterval(be);}}},50);var bi=function(){var bn=!bd.isNotReadyToReport();var bl=bd.isInView();var bk=bl?"inView":"outOfView";var bm=bl?100:0;if(bn&&!bc){bc=true;bg();}return{str:bn?bk:"na",pct:bn?bm:-1};};return{checkViewable:bi};};var av,aZ=0,aQ=0,X=W.on("consecutive")?a7:1,ae=v();var aU=W.on("forcecocoa"),aH=k.browserIs("g")||(k.browserIs("i")&&k.getDocumentMode()>=9&&W.on("rattie")),aS=ag&&s,E=ag&&!s;var p=(aS&&aU)||(E&&aH&&aU)||(E&&!aH);var J=p&&W.on("cocoapuffs");var aO=function(){var bc=function(){aO();if(W.on("viewabilityready")){an(null,a.VIEWABILITY_READY);}};var bf,be,e=v()-ae,bh=H();if(J){av=av||new a1(af,bh.adDimensions,bc)||{};bf=av.checkViewable();if(bh.tabHidden!==1||bf.str==="na"){bh.viewState=bf.str;bh.percentInView=bf.pct;}}else{if(p){bh.viewState="na";bh.percentInView=-1;}}var bg=bh.viewState;if(aB!=bg){var bd=U(bh,aB);a9.push(bd);aB=bg;}if(aB==="inView"||aB==="partialViewPlus"){aQ+=e;be=aQ-e<X;if(aQ>X){aZ+=be?aQ:e;}}else{aQ=0;}if(aa.length&&aZ>=aa[0]){an(null,a.PING);aa.shift();}ae=v();};var U=function(bc,e){var be=v();var bd={t:be,sl:bc.viewState,details:a0(bc)};bd.toString=function(){return"{t:"+this.t+",sl:"+this.sl+this.details+"}";};aM.log("creating event: "+bd);return bd;};var aY=function(){var bc=false;var e;if((a4.allowEnagement==="true")&&typeof document.addEventListener=="function"){a5=false;if(document.readyState=="complete"||document.readyState=="loaded"||document.readyState=="interactive"){a2(ad);}else{document.addEventListener("DOMContentLoaded",ad,false);}}else{e=setInterval(function(){if(document.body){aL=L();clearInterval(e);ad();}},50);}};var L=function(){return(document.documentElement&&(typeof document.documentElement.clientWidth!==R)&&document.documentElement)||document.body;};var ad=function(e){aM.info("Page ready.");a5=true;if(B){l=aB;aO();setInterval(aO,G);ac(window,"beforeunload",an,false);}};var f={time:-1,enterTime:null,min:null,max:null,trackMaxMin:null,mouseLeave:function(bc){var e=new Date().getTime()-f.enterTime;f.time+=e;aj("mousemove",f.move);aM.log("mouseLeave - time:",e,f.time,"bounding box:",f.getBoundingBoxString(),bc);},mouseEnter:function(e){aM.log("mouseEnter",e);if(f.time===-1){f.time=0;}f.enterTime=new Date().getTime();ac(window,"mousemove",f.move);},getBoundingBoxString:function(){var e;if(f.min&&f.max){e=f.min.x+"-"+f.min.y+"-"+f.max.x+"-"+f.max.y;}else{e="-1";}return e;},move:function(e){if(f.trackMaxMin===null){f.trackMaxMin=f.min&&f.max&&typeof e.clientX!=R&&typeof e.clientY!=R;}if(f.trackMaxMin){if(e.clientX<f.min.x){f.min.x=e.clientX;}if(e.clientY<f.min.y){f.min.y=e.clientY;}if(e.clientX>f.max.x){f.max.x=e.clientX;}if(e.clientY>f.max.y){f.max.y=e.clientY;}}},init:function(){if(W.on("mousetrack")){if(ag){ac(window,"mouseenter",this.mouseEnter);ac(window,"mouseleave",this.mouseLeave);if(typeof(window.innerWidth)!=R&&typeof(window.innerHeight)!=R){this.min={x:window.innerWidth,y:window.innerHeight};this.max={x:0,y:0};}}}}};var ay={parse:function(bd){var bc,be=a4.exchList;var bf=bd.join("|");try{bc=h(be).map(function(e,bh){return(bf.indexOf(bh)>=0)?e:undefined;});if(bc.length){t.addItem({output:bc.join(".")},"ex",{type:"UFO"});}}catch(bg){aI.add(aA);}}};var F=function(be){var bf,bd,e;switch(a4.mode){case"jss":bf='<script type="text/javascript"';e="<\/script>";break;case"jsi":bf='<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0"';e="</iframe>";break;}var bc=ap(be);bc+=ar(bc.length,false);bd=' src="'+bc+'">';document.write(bf+bd+e);};var ap=function(bc){aM.groupCollapsed("getFWUrl");var e=a4.adsafeSrc;e+=a4.adsafeSep;aM.log("base url: "+e);aM.log("length: "+e.length);aM.group("Getting urls and types:");e+=u(bc,e.length);aM.groupEnd();aM.info("final: "+e);aM.log("length: "+e.length);aM.groupEnd();return e;};var u=function(bd,bh){aM.groupCollapsed("Get URLs & Types");aM.log("lengthSoFar: "+bh);if(bh>=aC){return"";}var bc="";var bk=bd.length;var bl="adsafe_url=";var bi="&adsafe_type=";var bj=bl.length+bi.length;var bg,bm;var e=false;for(bg=0;bg<bk;bg++){bm=bd[bg];if(bm.key.indexOf("q")!=-1){aM.log("found q");if(bc.length+bh+bj+bm.val.length+bm.key.length+1<=aC){aM.log("adding it");bc+=au(bm,"");e=true;}else{aM.log("but did not add it");}}else{if(bm.key.indexOf("g")!=-1){aM.log("found g");if(bc.length+bh+bj+bm.val.length+bm.key.length+1<=aC){aM.log("adding it");bc+=au(bm,"");e=true;}else{aM.log("but did not add it");}}}}for(bg=0;bg<bk;bg++){bm=bd[bg];if(bm.key.indexOf("g")===-1&&bm.key.indexOf("q")===-1){if(bc.length+bh+bj+bm.val.length+bm.key.length+1<=aC){var bf=(e)?1:bg;var be=(bf>0)?"&":"";aM.log("adding "+bm.key);bc+=au(bm,be);}else{aM.log("skipping "+bm.key);}}}aM.groupEnd();return bc;};var au=function(e,bd){var bc=bd+"adsafe_url="+e.val;bc+="&adsafe_type="+e.key;aM.log("- "+bc);return bc;};var P=function(bd){var bc=[],be,e=bd.length;for(be=0;be<e;be++){bc.push(bd[be].val);}return bc;};var I=function(be){var bc=a4.requrl;if(a4.reqquery.length>0){bc+="?"+a4.reqquery;}var bd=u(be,bc.length+1);if(bd!==""){bc+="&"+bd;}bc+=ar(bc.length,true);var e='<img src="'+bc+'"/>';document.write(e);};var ax=function(bd){var e=a4.requrl;if(a4.reqquery.length>0){e+="?"+a4.reqquery;}var bc=u(bd,e.length+1);if(bc!==""){e+="&"+bc;}e+=ar(e.length,true);ao(e);};var ar=function(bg,bn){aM.group("Add JS Info");var bp="";var bl=p?{viewState:"na"}:H();aB=bl.viewState;aM.info("Screen Location Results");aM.dir(bl);var bc="&adsafe_jsinfo=c:"+a6+",sl:"+bl.viewState+",em:"+ag+",fr:"+s;var bd=false;if(bp.length+bg+bc.length<=aC){aM.info("Adding locInfo.viewState");bp+=bc;bd=true;}if(bd){var bf=",pt:"+a4.enagementDelay;var e=bl.viewState!="na"?a0(bl):"";if(bp.length+bg+e.length+bf.length<=aC){aM.info("Adding detailed locInfo");bp+=e+bf;}var bk=","+h(k.params()).toParams();if(bp.length+bg+bk.length<=aC){aM.info("Adding SAD param");bp+=bk;}var bj=",id:"+a4.asid;if(bp.length+bg+bj.length<=aC){aM.info("Adding impression id param");bp+=bj;B=true;}t.iterate(function(bt,bs){var bq,br=bg+bp.length;bq=","+bt+":";bq+=bs.output();aM.pm("AdTalk initial call: "+bs.output());if(br+bq.length<=aC){bp+=bq;}});if(aI.hasErrors()){aM.warn("Errors:",aI,aI.toString());var bi=",e:"+aI.toString();if(bp.length+bg+bi.length<=aC){aM.info("Adding error codes");bp+=bi;}}var bm=W.output();if(bm.length){bm=","+bm;if(bp.length+bg+bm.length<=aC){bp+=bm;}}var bh=",uf:"+((J)?1:0);if(bp.length+bg+bh.length<=aC){bp+=bh;}var bo=",tt:"+a4.mode;if(bp.length+bg+bo.length<=aC){aM.info("Adding tag type param");bp+=bo;}var be=",v:"+N;if(bp.length+bg+be.length<=aC){aM.info("Adding version param");bp+=be;}}aM.groupEnd();return bp;};var a0=function(bj){var bm="";try{var be=function(e){if(typeof e!==R&&typeof e.x!==R&&typeof e.y!==R&&typeof e.width!==R&&typeof e.height!==R){return e.x+"."+e.y+"."+e.width+"."+e.height;}return"";};var bi=function(e,bn){return","+e+":"+bn;};var bg=bj.winDimensions;if(typeof bg!=R&&bg!==-1){try{bm=bi("wc",be(bg));}catch(bh){throw"wc";}}var bl=bj.adDimensions;if(typeof bl!=R&&bl!==-1){try{bm+=bi("ac",be(bl));if(typeof bl.method=="string"){bm+=bi("am",bl.method);}if(typeof bl.container=="object"){bm+=bi("cc",be(bl.container));}}catch(bh){throw"ad";}}var bf={piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason"};for(var bk in bf){try{if(bf.hasOwnProperty(bk)){var bd=bf[bk];if(typeof bj[bd]!==R){bm+=bi(bk,bj[bd]);}}}catch(bh){throw bk;}}}catch(bh){aI.add(A);var bc=(typeof bh==="string")?bh:(typeof bh.type!=="undefined")?bh.type:"unk";bm+=",detErr:"+bc;aM.error(bh);}return bm;};var g=function(bf){var bd;var bc=bf.length;var e=bf[bc-1];for(bd=0;bd<bc;bd++){var be=bf[bd];if(be.key.indexOf("g")!==-1){e=be;}}return e;};var ao=function(bc){var e=new Image();e.onload=function(){aM.info("Image loaded: "+bc);};e.src=bc;};var aX=function(){aM.groupCollapsed("Checking for kill phrases...");var bk=false;try{if(typeof a4!=R&&typeof a4.killPhrases!=R&&a4.killPhrases!==""){var bj=a4.adsafeSrc;if(bj===""){bj=a4.requrl+a4.reqquery;}var bg=a4.killPhrases.split(",");var be="";for(var bf=0,bh=bg.length;bf<bh;bf++){var bc=decodeURIComponent(bg[bf]).replace(/^\s+|\s+$/g,"");if(bj.search(bc)!==-1){be=bc;bk=true;}}var bd=(bk)?'found ("'+be+'").':"not found.";aM.log('Kill phrases ("'+a4.killPhrases+'") '+bd);}else{aM.log("Kill phrase empty or not found.");}}catch(bi){aI.add(ak);aM.exception(bi);}aM.groupEnd();return bk;};var ai=(typeof JSON!==R&&typeof window.postMessage!==R);var Y=function(){var bc={};var bk=[];if(!ai){return;}var bf=[];var be=function(bn){var bl,bm,bo;bn=bn||a4;if(bn.reqquery){bl=bn.reqquery.split("anId=")[1].split("&")[0];}else{bm=bn.adsafeSrc.split("/");bl=bm[5]+"-"+bm[6];}bo={adId:bl,adSafeId:bn.asid};bf.push(bo);return bo;};var bd=function(){var bm=[];var bl={};var bo={noMe:true};var bp=function(bq){bm.push(bq);bl[bq.pageId]=bq;if(bq.isMe){bo=bq;}};var bn=function(){var br,bq,bu,bt,bs=[];for(br=0;br<bm.length;br++){bu=bm[br];if(bu.isLeaf||bu.isMe||bu.selfDescription!==undefined){bt="";for(bq=0;bq<bu.position.length;bq++){bt+=(Number(bu.position[bq])+1).toString(36);}bt+=(bu.isMe)?"*":"";bt+=(bu.adProxies.length!==0)?"."+bu.adProxies[0].adId:"";bs.push(bt);}}return al(bo.unifiedId,62)+"+"+bs.join("|");};return{addFrame:bp,list:bm,lookup:bl,me:function(){return bo;},output:bn};};bd=new bd();var bj=function(bo,bn){var bl=bo===window;var bm={position:bn.slice(0),pageId:bn.join("-"),domObj:function(){return bo;},isMe:bl,isLeaf:!bo.frames.length,adProxies:bl?bf:[],selfDescription:undefined,unifiedId:K};bm.toString=function(){return JSON.stringify(bm);};bm.addDescription=function(bp){bm.selfDescription=bp;bm.adProxies=bp.adProxies;};bd.addFrame(bm);return bm;};var e=function(){var bl=function(br,bm){var bp=bm.length,bo=br.frames,bq=new bj(br,bm);if(!bq.isLeaf){for(var bn=0;bn<bo.length;bn++){bm[bp]=bn;bl(bo[bn],bm);}bm.pop();}};return{start:function(){bl(top,[0]);}};};e=new e();var bg=function(bn){var bm=function(bo,bp){bp=bp||"*";bn.getMessageTime=new Date().getTime();delete bl.updateMessage;delete bl.sendMessage;bo.postMessage(JSON.stringify(bl),bp);};var bl={srcId:a4.asid,srcKey:a4.asid.split("-")[2],srcStart:j,getMessageTime:undefined,replyTo:document.location,sendMessage:bm,updateMessage:function(bo){bn=bo(bn);},messageContent:bn||{}};return bl;};var bh=function(){var bm=[];var bn=function(){ac(window,"message",function(bu){var bq,bt,br,bp,bs=bd.me();try{bq=JSON.parse(bu.data);bt=bq.messageContent;if(a4.asid.split("-")[2]!==bq.srcKey||!bq.hasOwnProperty("messageContent")){return;}if(bt.unifiedId<bs.unifiedId){bs.unifiedId=bt.unifiedId;}}catch(bv){return;}bm.push(bq);try{if(bt.expectedPageId!==bd.me().pageId){aI.add(D);}else{bp=bd.lookup[bt.self.pageId];if(bp===undefined||bp.selfDescription===undefined){bp=bp||new bj(bu.source,bt.self.pageId.split("-"));bo(bp);}bp.addDescription(bt.self);}}catch(bv){aI.add(D);}});};var bo=function(bp){var br=bd.me();var bq=new bg({self:br,expectedPageId:bp.pageId,unifiedId:br.unifiedId});bq.sendMessage(bp.domObj());};var bl=function(){var bq,bp;for(bq=0;bq<bd.list.length;bq++){bp=bd.list[bq];if(!bp.isMe){bo(bp);}}};return{sendMessages:bl,listen:bn};};bh=new bh();var bi=function(){var bl=new be();};return{sendMessages:bh.sendMessages,listen:bh.listen,findFrames:e.start,createAdProxy:function(bm){var bl=new be(bm);return bl;},getFrameStore:function(){return bd;}};}();var b=function(bc){switch(a4.mode){case"jsli":var e=ap(bc);e+=ar(e.length,false);ao(e);break;case"jspix":I(bc);break;case"jload":ax(bc);break;default:F(bc);break;}};var x=function(){var bc;if(!aX()){if(a4.useAdTalk==="true"&&ai){try{Y.createAdProxy(a4);Y.findFrames();Y.listen();Y.sendMessages();t.addItem(Y.getFrameStore(),"fm");}catch(bd){aI.add(c);}}aY();f.init();aT=aE();if(W.on("exch")){ay.parse(P(aT));}b(aT);if(a4.adTalkDtCall==="true"&&ai){bc=new Date().getTime();a2(function(){a2(function(){var e={output:new Date().getTime()-bc};t.addItem(e,"sinceFw",{type:a.ADTALK});if(typeof a5!=="undefined"){t.addItem({output:a5},"readyFired",{type:a.ADTALK});}if(z){aM.inDoc(Y.getFrameStore().output(),2000);}an(null,a.ADTALK);});});}}};x();a4.NS={Output:t};})(adsafeVisParams,new Date().getTime());
	